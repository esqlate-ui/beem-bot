<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Beem Admin {% block title %}{% endblock %}</title>
<style>
  :root {
    --bg: #0a0a0f;
    --surface: #12121a;
    --surface2: #1a1a26;
    --border: #2a2a3d;
    --accent: #f5a623;
    --accent2: #f76b1c;
    --text: #e2e2f0;
    --muted: #6b6b8a;
    --green: #22c55e;
    --red: #ef4444;
    --blue: #60a5fa;
    --pink: #f472b6;
    --purple: #a78bfa;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', sans-serif; background:var(--bg); color:var(--text); min-height:100vh; display:flex; }

  /* Sidebar */
  .sidebar { width:240px; min-height:100vh; background:var(--surface); border-right:1px solid var(--border); display:flex; flex-direction:column; position:fixed; top:0; left:0; z-index:50; }
  .logo { padding:28px 24px 20px; border-bottom:1px solid var(--border); }
  .logo-icon { font-size:32px; margin-bottom:6px; }
  .logo h1 { font-size:24px; font-weight:900; background:linear-gradient(135deg,var(--accent),var(--accent2)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; letter-spacing:-0.5px; }
  .logo p { font-size:11px; color:var(--muted); margin-top:2px; text-transform:uppercase; letter-spacing:1px; }

  .nav { padding:16px 12px; flex:1; }
  .nav-section { font-size:10px; color:var(--muted); text-transform:uppercase; letter-spacing:1px; padding:12px 12px 6px; }
  .nav a { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:10px; color:var(--muted); text-decoration:none; font-size:14px; font-weight:500; transition:all 0.15s; margin-bottom:2px; }
  .nav a:hover { color:var(--text); background:var(--surface2); }
  .nav a.active { color:var(--accent); background:rgba(245,166,35,0.1); }
  .nav a .icon { width:20px; text-align:center; font-size:16px; }
  .nav a .badge { margin-left:auto; background:var(--red); color:#fff; font-size:10px; font-weight:700; padding:2px 7px; border-radius:20px; }

  .sidebar-footer { padding:16px 12px; border-top:1px solid var(--border); }
  .sidebar-footer a { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:10px; color:var(--muted); text-decoration:none; font-size:13px; transition:0.15s; }
  .sidebar-footer a:hover { color:var(--red); background:rgba(239,68,68,0.08); }

  /* Main */
  .main { margin-left:240px; flex:1; padding:32px; min-height:100vh; }
  .page-header { margin-bottom:28px; }
  .page-header h2 { font-size:26px; font-weight:800; color:var(--text); }
  .page-header p { color:var(--muted); font-size:14px; margin-top:4px; }

  /* Cards */
  .card { background:var(--surface); border:1px solid var(--border); border-radius:14px; }
  .card-header { padding:18px 22px; border-bottom:1px solid var(--border); display:flex; align-items:center; gap:10px; }
  .card-header h3 { font-size:15px; font-weight:700; }
  .card-body { padding:22px; }

  /* Stat grid */
  .stat-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:16px; margin-bottom:28px; }
  .stat-card { background:var(--surface); border:1px solid var(--border); border-radius:14px; padding:22px; position:relative; overflow:hidden; }
  .stat-card::before { content:''; position:absolute; top:0; right:0; width:80px; height:80px; border-radius:0 14px 0 80px; opacity:0.07; }
  .stat-card.orange::before { background:var(--accent); }
  .stat-card.blue::before { background:var(--blue); }
  .stat-card.green::before { background:var(--green); }
  .stat-card.red::before { background:var(--red); }
  .stat-card.purple::before { background:var(--purple); }
  .stat-icon { font-size:24px; margin-bottom:12px; }
  .stat-num { font-size:38px; font-weight:900; line-height:1; }
  .stat-card.orange .stat-num { background:linear-gradient(135deg,var(--accent),var(--accent2)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
  .stat-card.blue .stat-num { color:var(--blue); }
  .stat-card.green .stat-num { color:var(--green); }
  .stat-card.red .stat-num { color:var(--red); }
  .stat-card.purple .stat-num { color:var(--purple); }
  .stat-label { font-size:13px; color:var(--muted); margin-top:6px; }

  /* Table */
  .table-wrap { overflow-x:auto; }
  table { width:100%; border-collapse:collapse; }
  thead th { padding:11px 16px; font-size:11px; font-weight:600; color:var(--muted); text-transform:uppercase; letter-spacing:0.6px; border-bottom:1px solid var(--border); text-align:left; background:var(--surface); }
  tbody td { padding:13px 16px; font-size:14px; border-bottom:1px solid rgba(42,42,61,0.5); vertical-align:middle; }
  tbody tr:last-child td { border-bottom:none; }
  tbody tr:hover td { background:rgba(255,255,255,0.02); }

  /* Badges */
  .badge { display:inline-flex; align-items:center; gap:4px; padding:3px 10px; border-radius:20px; font-size:12px; font-weight:600; }
  .badge-male { background:rgba(96,165,250,0.12); color:var(--blue); }
  .badge-female { background:rgba(244,114,182,0.12); color:var(--pink); }
  .badge-other { background:rgba(167,139,250,0.12); color:var(--purple); }
  .badge-active { background:rgba(34,197,94,0.12); color:var(--green); }
  .badge-banned { background:rgba(239,68,68,0.12); color:var(--red); }
  .badge-new { background:rgba(245,166,35,0.15); color:var(--accent); }
  .badge-resolved { background:rgba(34,197,94,0.1); color:var(--green); }

  /* Buttons */
  .btn { display:inline-flex; align-items:center; gap:6px; padding:8px 16px; border-radius:9px; font-size:13px; font-weight:600; text-decoration:none; border:none; cursor:pointer; transition:all 0.15s; }
  .btn-primary { background:linear-gradient(135deg,var(--accent),var(--accent2)); color:#000; }
  .btn-primary:hover { opacity:0.88; }
  .btn-ghost { background:var(--surface2); color:var(--text); border:1px solid var(--border); }
  .btn-ghost:hover { border-color:var(--accent); color:var(--accent); }
  .btn-danger { background:rgba(239,68,68,0.12); color:var(--red); border:1px solid rgba(239,68,68,0.2); }
  .btn-danger:hover { background:rgba(239,68,68,0.2); }
  .btn-success { background:rgba(34,197,94,0.12); color:var(--green); border:1px solid rgba(34,197,94,0.2); }
  .btn-sm { padding:5px 12px; font-size:12px; }

  /* Search */
  .search-box { position:relative; }
  .search-box input { width:100%; padding:10px 16px 10px 40px; background:var(--surface2); border:1px solid var(--border); border-radius:10px; color:var(--text); font-size:14px; outline:none; transition:0.15s; }
  .search-box input:focus { border-color:var(--accent); }
  .search-box::before { content:'üîç'; position:absolute; left:13px; top:50%; transform:translateY(-50%); font-size:14px; }

  /* Misc */
  .flex { display:flex; }
  .items-center { align-items:center; }
  .gap-2 { gap:8px; }
  .gap-3 { gap:12px; }
  .justify-between { justify-content:space-between; }
  .mb-4 { margin-bottom:16px; }
  .mb-6 { margin-bottom:24px; }
  .text-muted { color:var(--muted); font-size:13px; }
  .truncate { max-width:220px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .avatar { width:34px; height:34px; border-radius:50%; background:linear-gradient(135deg,var(--accent),var(--accent2)); display:inline-flex; align-items:center; justify-content:center; font-size:14px; font-weight:700; color:#000; flex-shrink:0; }

  /* Scrollbar */
  ::-webkit-scrollbar { width:6px; height:6px; }
  ::-webkit-scrollbar-track { background:transparent; }
  ::-webkit-scrollbar-thumb { background:var(--border); border-radius:3px; }
  ::-webkit-scrollbar-thumb:hover { background:var(--muted); }

  @media (max-width:768px) {
    .sidebar { width:60px; }
    .sidebar .logo h1, .sidebar .logo p, .nav a span, .nav-section, .sidebar-footer a span { display:none; }
    .main { margin-left:60px; padding:16px; }
  }
</style>
</head>
<body>
<aside class="sidebar">
  <div class="logo">
    <div class="logo-icon">üêù</div>
    <h1>Beem</h1>
    <p>Admin Panel</p>
  </div>
  <nav class="nav">
    <div class="nav-section">–û—Å–Ω–æ–≤–Ω–æ–µ</div>
    <a href="/" class="{% if request.path=='/' %}active{% endif %}">
      <span class="icon">üìä</span><span>–î–∞—à–±–æ—Ä–¥</span>
    </a>
    <a href="/users" class="{% if '/users' in request.path %}active{% endif %}">
      <span class="icon">üë•</span><span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
    </a>
    <a href="/profiles" class="{% if request.path=='/profiles' %}active{% endif %}">
      <span class="icon">üìã</span><span>–ê–Ω–∫–µ—Ç—ã</span>
    </a>
    <div class="nav-section">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
    <a href="/chats" class="{% if '/chat' in request.path %}active{% endif %}">
      <span class="icon">üí¨</span><span>–ß–∞—Ç—ã</span>
    </a>
    <a href="/reports" class="{% if request.path=='/reports' %}active{% endif %}">
      <span class="icon">‚ö†Ô∏è</span><span>–ñ–∞–ª–æ–±—ã</span>
      {% set new_reports = namespace(count=0) %}
      {% if reports_count is defined and reports_count > 0 %}
        <span class="badge">{{ reports_count }}</span>
      {% endif %}
    </a>
  </nav>
  <div class="sidebar-footer">
    <a href="/logout"><span class="icon">üö™</span><span>–í—ã–π—Ç–∏</span></a>
  </div>
</aside>

<main class="main">
  {% block content %}{% endblock %}
</main>

<script>
function filterTable(inputId, tbodyId) {
  document.getElementById(inputId).addEventListener('input', function() {
    const q = this.value.toLowerCase();
    document.querySelectorAll('#' + tbodyId + ' tr').forEach(tr => {
      tr.style.display = tr.textContent.toLowerCase().includes(q) ? '' : 'none';
    });
  });
}
</script>
</body>
</html>
