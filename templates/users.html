{% extends "base.html" %}
{% block title %}‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏{% endblock %}
{% block content %}
<div class="page-header flex items-center justify-between">
  <div><h2>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2><p>{{ users|length }} –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ</p></div>
</div>

<div class="card mb-4">
  <div class="card-body" style="padding:16px 22px;">
    <div class="search-box"><input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, username, ID..."></div>
  </div>
</div>

<div class="card">
  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
          <th>ID / Username</th>
          <th>–í–æ–∑—Ä–∞—Å—Ç</th>
          <th>–ü–æ–ª</th>
          <th>–ò–Ω—Ç–µ—Ä–µ—Å—ã</th>
          <th>–°—Ç–∞—Ç—É—Å</th>
          <th>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="users-tbody">
      {% for u in users %}
        <tr>
          <td>
            <div class="flex items-center gap-2">
              <div class="avatar">{{ u.name[0] }}</div>
              <span style="font-weight:600;color:var(--text);">{{ u.name }}</span>
            </div>
          </td>
          <td>
            <div style="font-size:12px;color:var(--muted);">{{ u.user_id }}</div>
            {% if u.username %}<a href="https://t.me/{{ u.username }}" target="_blank" style="color:var(--accent);text-decoration:none;font-size:13px;">@{{ u.username }}</a>{% else %}<span class="text-muted">‚Äî</span>{% endif %}
          </td>
          <td>{{ u.age }}</td>
          <td>
            {% if u.gender == 'male' %}<span class="badge badge-male">üë¶ –ü–∞—Ä–µ–Ω—å</span>
            {% elif u.gender == 'female' %}<span class="badge badge-female">üëß –î–µ–≤—É—à–∫–∞</span>
            {% else %}<span class="badge badge-other">‚öß –î—Ä—É–≥–æ–µ</span>{% endif %}
          </td>
          <td class="truncate text-muted">{{ u.interests_display }}</td>
          <td>
            {% if u.banned %}<span class="badge badge-banned">üîí –ó–∞–±–∞–Ω–µ–Ω</span>
            {% else %}<span class="badge badge-active">‚úÖ –ê–∫—Ç–∏–≤–µ–Ω</span>{% endif %}
          </td>
          <td class="text-muted">{{ u.created_display }}</td>
          <td><a href="/user/{{ u.user_id }}" class="btn btn-ghost btn-sm">–û—Ç–∫—Ä—ã—Ç—å</a></td>
        </tr>
      {% else %}
        <tr><td colspan="8" style="text-align:center;padding:40px;color:var(--muted);">–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</td></tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<script>filterTable('search','users-tbody');</script>
{% endblock %}
